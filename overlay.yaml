overlay: 1.0.0
info:
  title: |
    Process generated OAS for Terraform usage
  version: 0.0.0
actions:
  # Need a specific selector so that we don't delete properties named "default"
  - target: $..properties[*].default
    remove: true

  # Vault
  - target: $["components"]["schemas"]["Vault"]["properties"]["config"]
    update:
      x-speakeasy-type-override: any

  # Credentials
  - target: $["components"]["schemas"]["BasicAuthWithoutParents"]["properties"]["password"]
    update:
      x-speakeasy-param-sensitive: true

  # Security Scheme - allow operations when admin token is not given
  - target: $["security"]
    update:
      - {}
